[General]
# æµ‹è¯• URL
internet-test-url = http://www.gstatic.com/generate_204
proxy-test-url = http://www.gstatic.com/generate_204
test-timeout = 3
# Advanced
loglevel = notify
force-http-engine-hosts = sub.store, boxjs.com, boxjs.net, *.boxjs.com, *.boxjs.net
# DNSåŠ«æŒ
#hijack-dns = *:53
# DNSè¦†å†™ã€‚ä½¿ç”¨æ­¤é€‰é¡¹è¦†ç›–é»˜è®¤çš„DNSæœåŠ¡å™¨ã€‚
dns-server = 119.29.29.29, 223.5.5.5, 1.1.1.1, system
# åŠ å¯†DNSæœåŠ¡å™¨ã€‚å¯ç”¨æ¥è§£å†³DNSæ±¡æŸ“é—®é¢˜ã€‚
encrypted-dns-server = https://dns.alidns.com/dns-query, https://doh.pub/dns-query
# è·³è¿‡ä»£ç†ï¼šæ­¤é€‰é¡¹å¼ºåˆ¶è¿™äº›åŸŸåæˆ–IPçš„è¿žæŽ¥èŒƒå›´ç”±Surge TUNæŽ¥å£æ¥å¤„ç†ï¼Œè€Œä¸æ˜¯Surgeä»£ç†æœåŠ¡å™¨ã€‚æ­¤é€‰é¡¹ç”¨äºŽè§£å†³ä¸€äº›åº”ç”¨ç¨‹åºçš„ä¸€äº›å…¼å®¹æ€§é—®é¢˜ã€‚
skip-proxy = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 127.0.0.1, localhost, *.local, *.crashlytics.com, captive.apple.com, injections.adguard.org, local.adguard.org, yunbusiness.ccb.com, www.abchina.com.cn, login-service.mobile-bank.psbc.com, mobile-bank.psbc.com, ::ffff:0:0:0:0/1, ::ffff:128:0:0:0/1


[Proxy]


[Proxy Group]
# > ä»¥ä¸‹æ˜¯ç­–ç•¥ç»„
ðŸ›°ï¸ èŠ‚ç‚¹é€‰æ‹© = select, ðŸ³ï¸â€ðŸŒˆ ðð«ð¨ð±ð², ðŸ‡­ðŸ‡°é¦™æ¸¯(è‡ªåŠ¨), ðŸ‡­ðŸ‡°é¦™æ¸¯(å‡è¡¡), ðŸ‡¨ðŸ‡³å°æ¹¾(è‡ªåŠ¨), ðŸ‡¨ðŸ‡³å°æ¹¾(å‡è¡¡), ðŸ‡¯ðŸ‡µæ—¥æœ¬(è‡ªåŠ¨), ðŸ‡¯ðŸ‡µæ—¥æœ¬(å‡è¡¡), ðŸ‡¸ðŸ‡¬æ–°åŠ å¡(è‡ªåŠ¨), ðŸ‡¸ðŸ‡¬æ–°åŠ å¡(å‡è¡¡), ðŸ‡ºðŸ‡¸ç¾Žå›½(è‡ªåŠ¨), ðŸ‡ºðŸ‡¸ç¾Žå›½(å‡è¡¡), â˜¸ï¸ è´Ÿè½½å‡è¡¡(è½®è¯¢), ðŸŽ›ï¸ è´Ÿè½½å‡è¡¡(æ•£åˆ—), ðŸš… å…¨çƒç›´è¿ž
ðŸ³ï¸â€ðŸŒˆ ðð«ð¨ð±ð² = select, include-other-group="ðŸ›«è®¢é˜…èŠ‚ç‚¹, ðŸ‡ºðŸ‡¸è‡ªå»ºèŠ‚ç‚¹"
ðŸ Apple = select, ðŸš… å…¨çƒç›´è¿ž, ðŸ›°ï¸ èŠ‚ç‚¹é€‰æ‹©
ðŸªŸ Microsoft = select, ðŸš… å…¨çƒç›´è¿ž, ðŸ›°ï¸ èŠ‚ç‚¹é€‰æ‹©
ðŸŒ Google = select, ðŸ›°ï¸ èŠ‚ç‚¹é€‰æ‹©, ðŸ³ï¸â€ðŸŒˆ ðð«ð¨ð±ð², ðŸ‡ºðŸ‡¸è‡ªå»ºèŠ‚ç‚¹
ðŸ“˜ Facebook = select, ðŸ›°ï¸ èŠ‚ç‚¹é€‰æ‹©, ðŸ³ï¸â€ðŸŒˆ ðð«ð¨ð±ð², ðŸ‡ºðŸ‡¸è‡ªå»ºèŠ‚ç‚¹
ðŸ“¹ YouTube = select, ðŸ³ï¸â€ðŸŒˆ ðð«ð¨ð±ð², ðŸ‡­ðŸ‡°é¦™æ¸¯(è‡ªåŠ¨), ðŸ‡­ðŸ‡°é¦™æ¸¯(å‡è¡¡), ðŸ‡¨ðŸ‡³å°æ¹¾(è‡ªåŠ¨), ðŸ‡¨ðŸ‡³å°æ¹¾(å‡è¡¡), ðŸ‡¯ðŸ‡µæ—¥æœ¬(è‡ªåŠ¨), ðŸ‡¯ðŸ‡µæ—¥æœ¬(å‡è¡¡), ðŸ‡¸ðŸ‡¬æ–°åŠ å¡(è‡ªåŠ¨), ðŸ‡¸ðŸ‡¬æ–°åŠ å¡(å‡è¡¡), ðŸ‡ºðŸ‡¸ç¾Žå›½(è‡ªåŠ¨), ðŸ‡ºðŸ‡¸ç¾Žå›½(å‡è¡¡)
ðŸŽ¥ Netflix = select, ðŸ³ï¸â€ðŸŒˆ ðð«ð¨ð±ð², ðŸ‡­ðŸ‡°é¦™æ¸¯(è‡ªåŠ¨), ðŸ‡­ðŸ‡°é¦™æ¸¯(å‡è¡¡), ðŸ‡¨ðŸ‡³å°æ¹¾(è‡ªåŠ¨), ðŸ‡¨ðŸ‡³å°æ¹¾(å‡è¡¡), ðŸ‡¯ðŸ‡µæ—¥æœ¬(è‡ªåŠ¨), ðŸ‡¯ðŸ‡µæ—¥æœ¬(å‡è¡¡), ðŸ‡¸ðŸ‡¬æ–°åŠ å¡(è‡ªåŠ¨), ðŸ‡¸ðŸ‡¬æ–°åŠ å¡(å‡è¡¡), ðŸ‡ºðŸ‡¸ç¾Žå›½(è‡ªåŠ¨), ðŸ‡ºðŸ‡¸ç¾Žå›½(å‡è¡¡)
ðŸŽ¬ TikTok = select, ðŸ³ï¸â€ðŸŒˆ ðð«ð¨ð±ð², ðŸ‡ºðŸ‡¸è‡ªå»ºèŠ‚ç‚¹, ðŸ‡¨ðŸ‡³å°æ¹¾(è‡ªåŠ¨), ðŸ‡¨ðŸ‡³å°æ¹¾(å‡è¡¡), ðŸ‡¯ðŸ‡µæ—¥æœ¬(è‡ªåŠ¨), ðŸ‡¯ðŸ‡µæ—¥æœ¬(å‡è¡¡), ðŸ‡¸ðŸ‡¬æ–°åŠ å¡(è‡ªåŠ¨), ðŸ‡¸ðŸ‡¬æ–°åŠ å¡(å‡è¡¡), ðŸ‡ºðŸ‡¸ç¾Žå›½(è‡ªåŠ¨), ðŸ‡ºðŸ‡¸ç¾Žå›½(å‡è¡¡)
ðŸ’µ PayPal = select, ðŸ³ï¸â€ðŸŒˆ ðð«ð¨ð±ð², ðŸš… å…¨çƒç›´è¿ž, ðŸ‡ºðŸ‡¸è‡ªå»ºèŠ‚ç‚¹
ðŸ¤– OpenAI = select, ðŸ³ï¸â€ðŸŒˆ ðð«ð¨ð±ð², ðŸ‡¨ðŸ‡³å°æ¹¾(è‡ªåŠ¨), ðŸ‡¯ðŸ‡µæ—¥æœ¬(è‡ªåŠ¨), ðŸ‡¸ðŸ‡¬æ–°åŠ å¡(è‡ªåŠ¨), ðŸ‡ºðŸ‡¸ç¾Žå›½(è‡ªåŠ¨), ðŸ‡ºðŸ‡¸è‡ªå»ºèŠ‚ç‚¹
ðŸš… å…¨çƒç›´è¿ž = select, DIRECT
â›” å…¨çƒæ‹¦æˆª = select, REJECT, DIRECT
ðŸŸ æ¼ç½‘ä¹‹é±¼ = select, ðŸ›°ï¸ èŠ‚ç‚¹é€‰æ‹©, ðŸš… å…¨çƒç›´è¿ž, ðŸ‡­ðŸ‡°é¦™æ¸¯(è‡ªåŠ¨), ðŸ‡­ðŸ‡°é¦™æ¸¯(å‡è¡¡), ðŸ‡¨ðŸ‡³å°æ¹¾(è‡ªåŠ¨), ðŸ‡¨ðŸ‡³å°æ¹¾(å‡è¡¡), ðŸ‡¯ðŸ‡µæ—¥æœ¬(è‡ªåŠ¨), ðŸ‡¯ðŸ‡µæ—¥æœ¬(å‡è¡¡), ðŸ‡¸ðŸ‡¬æ–°åŠ å¡(è‡ªåŠ¨), ðŸ‡¸ðŸ‡¬æ–°åŠ å¡(å‡è¡¡), ðŸ‡ºðŸ‡¸ç¾Žå›½(è‡ªåŠ¨), ðŸ‡ºðŸ‡¸ç¾Žå›½(å‡è¡¡)
ðŸ‡­ðŸ‡°é¦™æ¸¯(è‡ªåŠ¨) = url-test, include-other-group=ðŸ›«è®¢é˜…èŠ‚ç‚¹, policy-regex-filter=æ¸¯|ðŸ‡­ðŸ‡°|é¦™æ¸¯|HK|Hong, interval=3600, tolerance=0, no-alert=1, hidden=1
ðŸ‡­ðŸ‡°é¦™æ¸¯(å‡è¡¡) = load-balance, include-other-group=ðŸ›«è®¢é˜…èŠ‚ç‚¹, policy-regex-filter=^(?=.*(ðŸ‡­ðŸ‡°|æ¸¯|è™šé€š|(?i)HK|Hong))(?!.*(å›žå›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|(?i)GAME|IPV6)).*$, hidden=1
ðŸ‡¨ðŸ‡³å°æ¹¾(è‡ªåŠ¨) = url-test, include-other-group=ðŸ›«è®¢é˜…èŠ‚ç‚¹, policy-regex-filter=å°|ðŸ‡¨ðŸ‡³|å°æ¹¾|TW|Tai, interval=3600, tolerance=0, no-alert=1, hidden=1
ðŸ‡¨ðŸ‡³å°æ¹¾(å‡è¡¡) = load-balance, include-other-group=ðŸ›«è®¢é˜…èŠ‚ç‚¹, policy-regex-filter=^(?=.*(ðŸ‡¹ðŸ‡¼|å°|(?i)TW|Tai))(?!.*(å›žå›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|(?i)GAME|IPV6)).*$, hidden=1
ðŸ‡¯ðŸ‡µæ—¥æœ¬(è‡ªåŠ¨) = url-test, include-other-group=ðŸ›«è®¢é˜…èŠ‚ç‚¹, policy-regex-filter=æ—¥|ðŸ‡¯ðŸ‡µ|æ—¥æœ¬|JP|Japan, interval=3600, tolerance=0, no-alert=1, hidden=1
ðŸ‡¯ðŸ‡µæ—¥æœ¬(å‡è¡¡) = load-balance, include-other-group=ðŸ›«è®¢é˜…èŠ‚ç‚¹, policy-regex-filter=^(?=.*((?i) ðŸ‡¯ðŸ‡µ|æ—¥|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼çŽ‰|JP|Japan))(?!.*((?i)å›žå›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|GAME|IPV6)).*$, hidden=1
ðŸ‡¸ðŸ‡¬æ–°åŠ å¡(è‡ªåŠ¨) = url-test, include-other-group=ðŸ›«è®¢é˜…èŠ‚ç‚¹, policy-regex-filter=å¡|ðŸ‡¸ðŸ‡¬|æ–°åŠ å¡|ç‹®åŸŽ|SG|Singapore, interval=3600, tolerance=0, no-alert=1, hidden=1
ðŸ‡¸ðŸ‡¬æ–°åŠ å¡(å‡è¡¡) = load-balance, include-other-group=ðŸ›«è®¢é˜…èŠ‚ç‚¹, policy-regex-filter=^(?=.*(ðŸ‡¸ðŸ‡¬|æ–°åŠ å¡|ç‹®|(?i)SG|Singapore))(?!.*(å›žå›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|(?i)GAME|IPV6)).*$, hidden=1
ðŸ‡ºðŸ‡¸ç¾Žå›½(è‡ªåŠ¨) = url-test, include-other-group=ðŸ›«è®¢é˜…èŠ‚ç‚¹, policy-regex-filter=ç¾Ž|ðŸ‡ºðŸ‡¸|ç¾Žå›½|US|States|American, interval=3600, tolerance=50, no-alert=1, hidden=1
ðŸ‡ºðŸ‡¸ç¾Žå›½(å‡è¡¡) = load-balance, include-other-group=ðŸ›«è®¢é˜…èŠ‚ç‚¹, policy-regex-filter=^(?=.*(ðŸ‡ºðŸ‡¸|ç¾Ž|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸŽ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡ž|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|(?i)US|United States))(?!.*(å›žå›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|(?i)GAME|IPV6)).*$, hidden=1
â˜¸ï¸ è´Ÿè½½å‡è¡¡(è½®è¯¢) = random, include-other-group=ðŸ›«è®¢é˜…èŠ‚ç‚¹, hidden=1
ðŸŽ›ï¸ è´Ÿè½½å‡è¡¡(æ•£åˆ—) = load-balance, include-other-group=ðŸ›«è®¢é˜…èŠ‚ç‚¹, hidden=1
# > åœ¨è¿™ä¸¤ç»„ç­–ç•¥ä¸­æ·»åŠ ä½ çš„è®¢é˜…é“¾æŽ¥
ðŸ›«è®¢é˜…èŠ‚ç‚¹ = select, update-interval=86400, hidden=1
ðŸ‡ºðŸ‡¸è‡ªå»ºèŠ‚ç‚¹ = select, update-interval=0, hidden=1


[Rule]
# å…³äºŽå±è”½443ç«¯å£çš„UDPæµé‡çš„è§£é‡Šå†…å®¹ï¼šHTTP3/QUICåè®®å¼€å§‹æµè¡Œï¼Œä½†æ˜¯å›½å†…ISPå’Œå›½é™…å‡ºå£çš„UDPä¼˜å…ˆçº§éƒ½å¾ˆä½Žï¼Œè¡¨çŽ°å¾ˆå·®ï¼Œå±è”½æŽ‰ä»¥å¼ºåˆ¶å›žé€€HTTP2/HTTP1.1ã€‚ï¼ˆå¦‚éœ€å¯ç”¨è¯¥é€»è¾‘è§„åˆ™ï¼Œè¯·åˆ é™¤ANDå‰é¢çš„æ³¨é‡Šç¬¦å·#ï¼‰
#AND,((PROTOCOL,UDP), (DEST-PORT,443)),REJECT-NO-DROP
# ban UDP on Youtube
#AND,((PROTOCOL,UDP), (DOMAIN-SUFFIX,googlevideo.com)),REJECT-NO-DROP

# > Direct(Google|Proxy|Download|Spotify)
RULE-SET,https://raw.githubusercontent.com/bunizao/TutuBetterRules/tutu/RuleList/DOMAlN/Direct.list,DIRECT
# > Mail
DOMAIN-SUFFIX,smtp,DIRECT
URL-REGEX,(Subject|HELO|SMTP),DIRECT

# ------Rulesets (è§„åˆ™é›†ï¼‰------
# > Whitelist
RULE-SET,https://raw.githubusercontent.com/bunizao/TutuBetterRules/tutu/RuleList/DOMAlN/Whitelist_Proxy.list,ðŸ³ï¸â€ðŸŒˆ ðð«ð¨ð±ð²

# Anti-AD
RULE-SET,https://ruleset.isagood.day/reject.conf,REJECT
DOMAIN-SET,https://ruleset.isagood.day/reject_tinygif.conf,REJECT-TINYGIF
DOMAIN-SET,https://ruleset.isagood.day/reject_domain.conf,REJECT
RULE-SET,https://ruleset.isagood.day/reject_drop.conf,REJECT-DROP

# > Apple
RULE-SET,https://raw.githubusercontent.com/bunizao/TutuBetterRules/tutu/RuleList/DOMAlN/Apple_Direct.list,DIRECT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/AppleNews/AppleNews.list,ðŸ‡ºðŸ‡¸ç¾Žå›½(è‡ªåŠ¨)
RULE-SET,https://raw.githubusercontent.com/bunizao/TutuBetterRules/tutu/RuleList/DOMAlN/Apple_Proxy.list,ðŸ³ï¸â€ðŸŒˆ ðð«ð¨ð±ð²
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Apple/Apple.list,ðŸ Apple
# > Microsoft
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Microsoft/Microsoft.list,ðŸªŸ Microsoft
# > Google
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Google/Google.list,ðŸŒ Google
# > GitHub
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/GitHub/GitHub.list,ðŸŒ Google
# > YouTube
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/YouTube/YouTube.list,ðŸ“¹ YouTube
# > TikTok
RULE-SET,https://raw.githubusercontent.com/Semporia/TikTok-Unlock/master/Surge/TikTok.list,ðŸŽ¬ TikTok
# > Facebook
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Facebook/Facebook.list,ðŸ“˜ Facebook
# > Netflix
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Netflix/Netflix.list,ðŸŽ¥ Netflix
# > PayPal
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Extra/PayPal.list,ðŸ’µ PayPal
# > ChatGPT
RULE-SET,https://raw.githubusercontent.com/bunizao/TutuBetterRules/tutu/RuleList/DOMAlN/OpenAI.list,ðŸ¤– OpenAI
# > Instagram
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Instagram/Instagram.list,ðŸ“¹ YouTube
# > Whatsapp
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Whatsapp/Whatsapp.list,ðŸ“˜ Facebook
# > Global
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Global/Global.list,ðŸ›°ï¸ èŠ‚ç‚¹é€‰æ‹©
DOMAIN-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Global/Global_Domain.list,ðŸ›°ï¸ èŠ‚ç‚¹é€‰æ‹©
# > ChinaåŸŸå
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/ChinaMaxNoIP/ChinaMaxNoIP.list,DIRECT
DOMAIN-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/ChinaMaxNoIP/ChinaMaxNoIP_Domain.list,DIRECT
# > å±€åŸŸç½‘
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Lan/Lan.list,DIRECT
# > ASN China
RULE-SET,https://raw.githubusercontent.com/VirgilClyne/GetSomeFries/main/ruleset/ASN.China.list,DIRECT
# > GeoIP China(è‹¥å¯ç”¨ï¼Œåˆ™éœ€ç¦ç”¨ ASN)
#GEOIP,CN,DIRECT,no-resolve
# > DNS æŸ¥è¯¢å¤±è´¥èµ° Final è§„åˆ™
FINAL,ðŸŸ æ¼ç½‘ä¹‹é±¼,dns-failed


[Host]
# > è¯¥æ®µå®šä¹‰æœ¬åœ° DNS è®°å½•
# > è¯¥åŠŸèƒ½ç­‰åŒäºŽ /etc/hostsï¼ŒåŠ ä¸Šäº†æ³›è§£æžå’Œåˆ«åæ”¯æŒã€‚


[URL Rewrite]
# > å»ºè®®å¼•ç”¨æ¨¡å—ï¼š
 # - https://raw.githubusercontent.com/bunizao/TutuBetterRules/tutu/Surge/module/All-in-One.sgmodule æœ€å¼ºåŠ›çš„åŽ»å¹¿å‘Šæ¨¡å—
 # - https://raw.githubusercontent.com/bunizao/TutuBetterRules/tutu/Surge/module/All-in-One-2.x.sgmodule æœ€å¼ºåŠ›çš„åŽ»å¹¿å‘Šæ¨¡å— è¿›é˜¶ç‰ˆ
 # - https://raw.githubusercontent.com/bunizao/TutuBetterRules/tutu/Surge/module/SurgePro.sgmodule Surgeå¢žå¼º
     # è¯¦æƒ…è¯·è§ https://t.me/hututu00/470


[Script]
# > Sub-Store
Sub-Store Core=type=http-request,pattern=^https?:\/\/sub\.store\/((download)|api\/(preview|sync|(utils\/node-info))),script-path=https://github.com/sub-store-org/Sub-Store/releases/latest/download/sub-store-1.min.js,requires-body=true,timeout=120,ability=http-client-policy
Sub-Store Simple=type=http-request,pattern=^https?:\/\/sub\.store,script-path=https://github.com/sub-store-org/Sub-Store/releases/latest/download/sub-store-0.min.js,requires-body=true
Sub-Store Sync=type=cron,cronexp=0 0 * * *,wake-system=1,timeout=120,script-path=https://github.com/sub-store-org/Sub-Store/releases/latest/download/cron-sync-artifacts.min.js
# > BoxJs
Rewrite: BoxJs = type=http-request,pattern=https?:\/\/boxjs\.(com|net),script-path=https://raw.githubusercontent.com/chavyleung/scripts/master/box/chavy.boxjs.js, requires-body=true, timeout=120


[MITM]
skip-server-cert-verify = true
tcp-connection = true
h2 = true
hostname = sub.store, boxjs.com, boxjs.net, *.boxjs.com, *.boxjs.net
